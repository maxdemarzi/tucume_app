!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery"),require("autosize"),require("@shopify/draggable/lib/draggable"),require("@shopify/draggable/lib/plugins"),require("list.js"),require("flatpickr"),require("prismjs")):"function"==typeof define&&define.amd?define(["exports","jquery","autosize","@shopify/draggable/lib/draggable","@shopify/draggable/lib/plugins","list.js","flatpickr","prismjs"],e):e((t=t||self).theme={},t.jQuery,t.autosize,t.Draggable,t.SwapAnimation,t.List,t.flatpickr,t.Prism)}(this,function(t,e,n,a,r,i,s,o){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n,a=a&&a.hasOwnProperty("default")?a.default:a,r=r&&r.hasOwnProperty("default")?r.default:r,i=i&&i.hasOwnProperty("default")?i.default:i,s=s&&s.hasOwnProperty("default")?s.default:s,o=o&&o.hasOwnProperty("default")?o.default:o;var l=function(t){var e="script";return t("body").tooltip({selector:'[data-toggle="tooltip"]',container:"body"}),t("body").popover({selector:'[data-toggle="popover"]',container:"body"}),t(".toast").toast(),{version:"1.2.0",selector:{RECAPTCHA:"[data-recaptcha]"},activateIframeSrc:function(e){var n=t(e);n.attr("data-src")&&n.attr("src",n.attr("data-src"))},idleIframeSrc:function(e){var n=t(e);n.attr("data-src",n.attr("src")).attr("src","")},forEach:function(t,e,n){if(t)if(t.length)for(var a=0;a<t.length;a+=1)e.call(n,a,t[a]);else(t[0]||l.isElement(t))&&e.call(n,0,t)},dedupArray:function(t){return t.reduce(function(t,e){var n=JSON.stringify(e);return-1===t.temp.indexOf(n)&&(t.out.push(e),t.temp.push(n)),t},{temp:[],out:[]}).out},isElement:function(t){return!(!t||1!==t.nodeType)},getFuncFromString:function(t,e){var n=t||null;if("function"==typeof n)return t;if("string"==typeof n){if(!n.length)return null;for(var a=e||window,r=n.split(".");r.length;){var i=r.shift();if(void 0===a[i])return null;a=a[i]}if("function"==typeof a)return a}return null},getScript:function(t,n){var a=document.createElement(e),r=document.getElementsByTagName(e)[0];a.async=1,a.defer=1,a.onreadystatechange=function(t,e){(e||!a.readyState||/loaded|complete/.test(a.readyState))&&(a.onload=null,a.onreadystatechange=null,a=void 0,!e&&n&&"function"==typeof n&&n())},a.onload=a.onreadystatechange,a.src=t,r.parentNode.insertBefore(a,r)}}}(e);n(document.querySelectorAll(".chat-module-bottom textarea")),e(window).on("load",function(){var t=document.querySelectorAll(".media.chat-item:last-child");t&&l.forEach(t,function(t,e){e.scrollIntoView()})});(function(t){var e=function(){function e(t,n){this.element=t;var a=window.getComputedStyle(this.element);this.elementCssText="box-sizing:"+a.boxSizing+"\n                          ;border-left:"+a.borderLeftWidth+" solid red           \n                          ;border-right:"+a.borderRightWidth+" solid red\n                          ;font-family:"+a.fontFamily+"\n                          ;font-feature-settings:"+a.fontFeatureSettings+"\n                          ;font-kerning:"+a.fontKerning+"\n                          ;font-size:"+a.fontSize+"\n                          ;font-stretch:"+a.fontStretch+"\n                          ;font-style:"+a.fontStyle+"\n                          ;font-variant:"+a.fontVariant+"\n                          ;font-variant-caps:"+a.fontVariantCaps+"\n                          ;font-variant-ligatures:"+a.fontVariantLigatures+"\n                          ;font-variant-numeric:"+a.fontVariantNumeric+"\n                          ;font-weight:"+a.fontWeight+"\n                          ;letter-spacing:"+a.letterSpacing+"\n                          ;margin-left:"+a.marginLeft+"\n                          ;margin-right:"+a.marginRight+"\n                          ;padding-left:"+a.paddingLeft+"\n                          ;padding-right:"+a.paddingRight+"\n                          ;text-indent:"+a.textIndent+"\n                          ;text-transform:"+a.textTransform+";",this.GHOST_ELEMENT_ID="__autosizeInputGhost",t.addEventListener("input",e.passWidth),t.addEventListener("keydown",e.passWidth),t.addEventListener("cut",e.passWidth),t.addEventListener("paste",e.passWidth),this.extraPixels=n&&n.extraPixels?parseInt(n.extraPixels,10):0,this.width=e.setWidth(this),n&&n.minWidth&&"0px"!==this.width&&(this.element.style.minWidth=this.width)}return e.setWidth=function(t){var n=t.element.value||t.element.getAttribute("placeholder")||"",a=document.getElementById(t.GHOST_ELEMENT_ID)||t.createGhostElement();a.style.cssText+=t.elementCssText,a.innerHTML=e.escapeSpecialCharacters(n);var r=window.getComputedStyle(a).width;return r=Math.ceil(r.replace("px",""))+t.extraPixels,t.element.style.width=r+"px",r},e.passWidth=function(n){var a=t(n.target).data("autoWidth");e.setWidth(a)},e.mapSpecialCharacterToCharacterEntity=function(t){return"&"+{" ":"nbsp","<":"lt",">":"gt"}[t]+";"},e.escapeSpecialCharacters=function(t){return t.replace(/\s/g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.prototype.createGhostElement=function(){var t=document.createElement("div");return t.id=this.GHOST_ELEMENT_ID,t.style.cssText="display:inline-block;height:0;overflow:hidden;position:absolute;top:0;visibility:hidden;white-space:nowrap;",document.body.appendChild(t),t},e}();t(document).ready(function(){var n=document.querySelectorAll("form.checklist .custom-checkbox div input");n&&l.forEach(n,function(n,a){t(a).data("autoWidth",new e(a,{extraPixels:3})),a.addEventListener("keypress",function(t){13===t.which&&t.preventDefault()})})})})(e),new a.Sortable(document.querySelectorAll("form.checklist, .drop-to-delete"),{plugins:[r],draggable:".checklist > .row",handle:".form-group > span > i"});function d(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function c(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}window.Dropzone.autoDiscover=!1,function(t){t(function(){var e='<li class="list-group-item dz-preview dz-file-preview">\n      <div class="media align-items-center dz-details">\n        <ul class="avatars">\n          <li>\n            <div class="avatar bg-primary dz-file-representation">\n              <i class="material-icons">attach_file</i>\n            </div>\n          </li>\n        </ul>\n        <div class="media-body d-flex justify-content-between align-items-center">\n          <div class="dz-file-details">\n            <span class="dz-filename"><span data-dz-name></span></span<br>\n            <span class="text-small dz-size" data-dz-size></span>\n          </div>\n          <img alt="Loader" src="assets/img/loader.svg" class="dz-loading" />\n          <div class="dropdown">\n            <button class="btn-options" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n              <i class="material-icons">more_vert</i>\n            </button>\n            <div class="dropdown-menu dropdown-menu-right">\n              <a class="dropdown-item text-danger" href="#" data-dz-remove>Delete</a>\n            </div>\n          </div>\n          <button class="btn btn-danger btn-sm dz-remove" data-dz-remove>\n            Cancel\n          </button>\n        </div>\n      </div>\n      <div class="progress dz-progress">\n        <div class="progress-bar dz-upload" data-dz-uploadprogress></div>\n      </div>\n    </li>';e=document.querySelector(".dz-template")?document.querySelector(".dz-template").innerHTML:e,t(".dropzone").dropzone({previewTemplate:e,thumbnailWidth:320,thumbnailHeight:320,thumbnailMethod:"contain",previewsContainer:".dropzone-previews"})})}(e);var u=function(t){if(void 0===i)throw new Error("mrFilterList requires list.js (http://listjs.com)");var e="mrFilterList",n="mr.filterList",a=t.fn[e],r={LOAD_DATA_API:"load.mr.filterList.data-api"},s={FILTER:"[data-filter-list]",DATA_ATTR:"filter-list",DATA_ATTR_CAMEL:"filterList",DATA_FILTER_BY:"data-filter-by",DATA_FILTER_BY_CAMEL:"filterBy",FILTER_INPUT:"filter-list-input",FILTER_TEXT:"filter-by-text"},o=function(){function e(t){this.element=t;var e=t.dataset[s.DATA_ATTR_CAMEL];this.valueNames=[],this.lists=[],this.initAllLists(e),this.bindInputEvents()}var a=e.prototype;return a.initAllLists=function(t){var e=this;l.forEach(this.element.querySelectorAll("."+t),function(t,n){e.initList(e.element,n)})},a.initList=function(t,e){var n=this,a=s.DATA_ATTR+"-"+(new Date).getTime(),r=e.querySelectorAll("*:first-child ["+s.DATA_FILTER_BY+"]");l.forEach(r,function(t,a){n.parseFilters(e,a,a.dataset[s.DATA_FILTER_BY_CAMEL])}),this.valueNames=l.dedupArray(this.valueNames),e.classList.add(a);var o=new i(t,{valueNames:this.valueNames,listClass:a});this.lists.push(o)},a.parseFilters=function(e,n,a){var r=this,i=t(e),o=[];try{o=a.split(",")}catch(t){throw new Error('Cannot read comma separated data-filter-by attribute: "\n          '+a+'" on element: \n          '+this.element)}o.forEach(function(t){"text"===t?(n.className!==n.nodeName+"-"+s.FILTER_TEXT&&r.valueNames.push(n.className+" "+n.nodeName+"-"+s.FILTER_TEXT),i.find(n.nodeName.toLowerCase()+"["+s.DATA_FILTER_BY+'*="text"]').addClass(n.nodeName+"-"+s.FILTER_TEXT)):0===t.indexOf("data-")?(i.find("["+s.DATA_FILTER_BY+'*="'+t+'"]').addClass("filter-by-"+t),r.valueNames.push({name:"filter-by-"+t,data:t.replace("data-","")})):n.getAttribute(t)&&(i.find("["+s.DATA_FILTER_BY+'*="'+t+'"]').addClass("filter-by-"+t),r.valueNames.push({name:"filter-by-"+t,attr:t}))})},a.bindInputEvents=function(){var e=this.element.querySelector("."+s.FILTER_INPUT);t(e).data(n,this),e.addEventListener("keyup",this.searchLists,!1),e.addEventListener("paste",this.searchLists,!1),e.closest("form").addEventListener("submit",function(t){t.preventDefault})},a.searchLists=function(e){var a=t(this).data(n);l.forEach(a.lists,function(t,n){n.search(e.target.value)})},e.jQueryInterface=function(){return this.each(function(){var a=t(this),r=a.data(n);r||(r=new e(this),a.data(n,r))})},c(e,null,[{key:"VERSION",get:function(){return"1.0.0"}}]),e}();return t(window).on(r.LOAD_DATA_API,function(){for(var e=t.makeArray(t(s.FILTER)),n=e.length;n--;){var a=t(e[n]);o.jQueryInterface.call(a,a.data())}}),t.fn[e]=o.jQueryInterface,t.fn[e].Constructor=o,t.fn[e].noConflict=function(){return t.fn[e]=a,o.jQueryInterface},o}(e),f=function(t){if(void 0===s)throw new Error("mrFlatpickr requires flatpickr.js (https://github.com/flatpickr/flatpickr)");var e="mrFlatpickr",n=t.fn[e],a={LOAD_DATA_API:"load.mr.flatpickr.data-api"},r="[data-flatpickr]",i=function(){function e(t){this.element=t,this.initflatpickr()}return e.prototype.initflatpickr=function(){var e=t(this.element).data();this.instance=s(this.element,e)},e.jQueryInterface=function(){return this.each(function(){var n=t(this),a=n.data("mr.flatpickr");a||(a=new e(this),n.data("mr.flatpickr",a))})},c(e,null,[{key:"VERSION",get:function(){return"1.0.0"}}]),e}();return t(window).on(a.LOAD_DATA_API,function(){for(var e=t.makeArray(t(r)),n=e.length;n--;){var a=t(e[n]);i.jQueryInterface.call(a,a.data())}}),t.fn[e]=i.jQueryInterface,t.fn[e].Constructor=i,t.fn[e].noConflict=function(){return t.fn[e]=n,i.jQueryInterface},i}(e),p={sortableKanbanLists:new a.Sortable(document.querySelectorAll("div.kanban-board"),{draggable:".kanban-col:not(:last-child)",handle:".card-list-header"}),sortableKanbanCards:new a.Sortable(document.querySelectorAll(".kanban-col .card-list-body"),{plugins:[r],draggable:".card-kanban",handle:".card-kanban",appendTo:"body"})};o.highlightAll(),function(){if("undefined"==typeof $)throw new TypeError("Medium Rare JavaScript requires jQuery. jQuery must be included before theme.js.")}(),t.mrFilterList=u,t.mrFlatpickr=f,t.mrKanban=p,t.mrUtil=l,Object.defineProperty(t,"__esModule",{value:!0})});